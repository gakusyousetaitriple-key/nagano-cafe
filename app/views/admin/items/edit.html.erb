<h1 class="text-center">商品編集</h1>

<%= form_with(model: @item, url: admin_item_path(@item), local: true, html: { class: "form-center" }) do |form| %>
  <div class="form-group">
    <%= form.label :image, "商品画像" %>
    <div>
      <%= form.file_field :image %>
      <% if @item.image.attached? %>
        <p>現在の画像が登録されています。</p>
        <%= image_tag @item.image, alt: @item.name, class: "preview-image" %> <!-- 画像のプレビューも表示 -->
      <% end %>
    </div>
  </div>

  <div class="form-group">
    <%= form.label :name, "商品名" %>
    <%= form.text_field :name, placeholder: "商品名", class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :introduction, "商品説明" %>
    <%= form.text_area :introduction, placeholder: "ここに説明文を記述します", rows: 4, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :genre_id, "ジャンル" %>
    <%= form.collection_select :genre_id, Genre.all, :id, :name, prompt: "選択してください", class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :price, "税抜き価格" %>
    <%= form.number_field :price, class: "form-control", min: 0, placeholder: "税抜き価格" %>
  </div>

  <div class="form-group">
    <%= form.label :is_active, "販売ステータス" %>
    <div class="form-check">
      <%= form.radio_button :is_active, true, class: "form-check-input" %>
      <%= form.label :is_active_true, "販売中", class: "form-check-label" %>
    </div>
    <div class="form-check">
      <%= form.radio_button :is_active, false, class: "form-check-input" %>
      <%= form.label :is_active_false, "販売停止中", class: "form-check-label" %>
    </div>
  </div>

  <div class="form-group text-center">
    <%= form.submit "変更を保存", class: "btn btn-primary" %>
  </div>

<% end %>

<%= link_to '戻る', admin_items_path, class: 'btn btn-secondary' %>

<!-- CSS: 数字入力フィールドの矢印を非表示にする -->
<style>
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }
</style>
